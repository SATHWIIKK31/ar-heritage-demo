<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebXR AR Heritage Demo</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-ar@1.8.2/dist/aframe-ar.min.js"></script>
  </head>
  <body style="margin:0; overflow:hidden;">
    <a-scene
      xr-mode-ui="enabled: true"
      webxr="optionalFeatures: hit-test;"
      vr-mode-ui="enabled: false"
      renderer="antialias: true; alpha: true"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >
      <!-- Model -->
      <a-entity id="taj"
        gltf-model="url(assets/models/taj_mahal.glb)"
        scale="0.05 0.05 0.05"
        visible="false">
      </a-entity>

      <!-- Camera with cursor -->
      <a-camera cursor="fuse: false; rayOrigin: mouse;"></a-camera>
    </a-scene>

    <script>
      // Place model on first surface tap
      const scene = document.querySelector('a-scene');
      const taj = document.getElementById('taj');

      scene.addEventListener('click', function (e) {
        if (!taj.getAttribute('visible')) {
          taj.setAttribute('visible', true);
          taj.setAttribute('position', '0 0 -1'); // place 1m in front
        }
      });
    </script>
  </body>
</html>
